<html>
  <body>
  
    <div id="bg" style="width:500px; height:500px; background:#eee; border:2px solid black;">
      <img id="player" src="fire_elementalist-pixilart.png" style="position:absolute; left:100px; top:200px">

      
      <script>
        let playerx = 100;
        let playery = 200;
        let dx = 0;
        let dy = 0;
        let ax = 0;
        let ay = 0;
        let left = 37;
        let up = 38;
        let right = 39;
        let down = 40;

        document.addEventListener("keydown", function(e) {
                  console.log("hello "+e.keyCode);
          if (e.keyCode == left) {
            console.log("left");
            dx -= 1;
          } else if (e.keyCode == right) {
            console.log("right");
            dx += 1;
          } else if (e.keyCode == up) {
            console.log("up");
            dy -= 1;
          } else if (e.keyCode == down) {
            console.log("down");
            dy += 1;
          }

        });
        
        setInterval (function () { 
        let player = document.getElementById("player");
        if (playery + dy > 450) {
          dy = 0;
          ay = 0;
          playery = 450;
        } else {
          playery = playery + dy;
        }
        if (playery + dy > -25) {
          dy = 0;
          ay = 0;
          playery = -25;
        } else {
          playery = playery + dy;
        }
        if (playery + dx > 450) {
          dx = 0;
          ax = 0;
          playerx = 450;
        } else {
          playerx = playerx + dx;
        }
        if (playery + dx > -25) {
          dx = 0;
          ax = 0;
          playerx = -25;
        } else {
          playerx = playerx + dx;
        }
        playerx = playerx + dx;             
        player.style.left = playerx + "px";
        player.style.top = playery + "px";
        dx = dx + ax;
        dy = dy + ay;
        ax = ax / 2;
        ay = ay / 2;
             },50);             
        </script>
  
    </div>
  </body>
  
</html>
